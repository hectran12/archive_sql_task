CREATE DATABASE QUANLYBANHANG;
GO
USE QUANLYBANHANG;
GO
CREATE TABLE HANGSANXUAT (
    MA_HANG_SAN_XUAT INT PRIMARY KEY,
    TEN_HANG_SAN_XUAT VARCHAR(255)
);
GO
CREATE TABLE SANPHAM (
    MA_SAN_PHAM INT PRIMARY KEY,
    TEN_SAN_PHAM VARCHAR(255),
    HANG_SAN_XUAT INT,
    SO_LUONG_TON_KHO INT,
    DON_GIA DECIMAL(18,2),
    FOREIGN KEY (HANG_SAN_XUAT) REFERENCES HANGSANXUAT(MA_HANG_SAN_XUAT)
);
GO
CREATE TABLE NHANVIEN (
    MANV INT PRIMARY KEY,
    HONV VARCHAR(50),
    TENLOT VARCHAR(50),
    TENNV VARCHAR(50),
    PHAI VARCHAR(10),
    NGAYSINH DATE,
    LUONG DECIMAL(18,2),
    NVQUANLY INT,
    FOREIGN KEY (NVQUANLY) REFERENCES NHANVIEN(MANV)
);
GO
CREATE TABLE HOADON (
    MA_HOA_DON INT PRIMARY KEY,
    NGAYLAP DATE,
    NVLAP INT,
    THANHTIEN DECIMAL(18,2),
    TINHTRANG VARCHAR(50),
    FOREIGN KEY (NVLAP) REFERENCES NHANVIEN(MANV)
);
GO
CREATE TABLE CHITIETHD (
    MAHD INT,
    MASP INT,
    SOLUONG INT,
    PRIMARY KEY (MAHD, MASP),
    FOREIGN KEY (MAHD) REFERENCES HOADON(MA_HOA_DON),
    FOREIGN KEY (MASP) REFERENCES SANPHAM(MA_SAN_PHAM)
);
